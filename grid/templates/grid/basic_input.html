{% extends 'grid/base.html' %}
{% load static %}
{% load crispy_forms_tags %}
{% block content %}
<div class="col text-center">               
<h2 class="mt=2">Provide grid information</h1>
<hr class="mt-0 mb-4">
<form id="inputform" enctype="multipart/form-data" method="post" action="">
	{% csrf_token %}
	<div class = "row justify-content-md-center">
		<div id="input_type" class="col-md-2 col-md-offset-5">
			{{form.input_type|as_crispy_field}}
		</div>
	</div>
	<div class="row justify-content-md-center" id="input_file">
		<div id="input_file" class="col-md-2 col-md-offset-5">
			{{form.input_file|as_crispy_field}}
		</div>
	</div>
	<div class="row justify-content-md-center">
		<div id = "nr" class="col-md-2 col-md-offset-4">
			{{form.nr|as_crispy_field}}
		</div>
		<div class="col-md-2">
			{{form.nc|as_crispy_field}}
		</div>						
	</div>	
	<div class="row justify-content-md-center">
		<div class="col-md-2 col-md-offset-4">
			{{form.w|as_crispy_field}}
		</div>
		<div class="col-md-2">
			{{form.l|as_crispy_field}}
		</div>
	</div>
	<div class="row justify-content-md-center">
		<div class="col-md-2 col-md-offset-4">
			{{form.diffCoeff|as_crispy_field}}
		</div>
		<div class="col-md-2">
			<p>Diffusion Coefficient example<br>
			Sodium: 1.33e-4 <br>
			Fluorescein: 4.25e-5<br>
			Bovine Serum Albumin: 6.38e-6<br>			
			</p>
		</div>			
	</div>	
	<button id="submit-btn" type="submit" class="btn">Submit</button>
</form>
<script type="text/javascript" src="{% static 'js/jquery.min.js' %}"></script>
<script type="text/javascript" src="{% static 'js/jquery.validate.min.js' %}"></script>
<script type="text/javascript">
	// TODO: toggle hide/show when click on radio button
	$(document).ready(function() {
		$('#input_file').hide();
		$('#input_type').on('change',function(){
			var val = $('input[name="input_type"]:checked').val();
			if(val==1){
				$('#input_file').show();
			}else{
				$('#input_file').hide();
			}
		});
		$('#inputform').validate({
			rules: {
				input_file: {
					required: function(e){
						return $('input[name="input_type"]:checked').val()==1;
					}
				}
			}			
		});
	});

</script>
</div>
{% endblock %}